# This is a basic workflow to help you get started with Actions

name: Health Check

# Controls when the action will run. Triggers the workflow on push or pull request
# events but only for the master branch
on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  build:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
    - name: HTTP Request Action
      # You may pin to the exact commit or the version.
      # uses: fjogeleit/http-request-action@3634ea0063747172ea475d8dafb6596eab2a1e11
      uses: fjogeleit/http-request-action@v1.4.1
      with:
        # Request URL
        url: https://openhackvs44eql7userprofile-staging.azurewebsites.net/api/healthcheck/user
        # Request Method
        method: GET # optional, default is POST
        # Content Type
        # contentType: # optional, default is application/json
        # Request Body as JSON String
        data: '{"message":"healthcheck","status":"healthy"}' # optional, default is {}
        # Auth Username
        # username: # optional
        # Auth Password
        # password: # optional
        # Request Timeout in Sec
        timeout: 15000 # optional, default is 5000
        # Bearer Authentication Token
        # bearerToken: # optional
        # Custom HTTP Headers
        # customHeaders: # optional
        # Prevent this Action to fail if the request respond without an response
        # preventFailureOnNoResponse: # optional
